{
  "permissions": {
    "allow": [
      "Bash(git fetch --all --prune)",
      "Bash(.specify/scripts/powershell/check-prerequisites.ps1 -Json -PathsOnly)",
      "Bash(.specify/scripts/powershell/setup-plan.ps1 -Json)",
      "Bash(.specify/scripts/powershell/check-prerequisites.ps1 -Json)",
      "Bash(.specify/scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks)",
      "Bash(git rev-parse --git-dir)",
      "Bash(dir book /s)",
      "Bash(dir book*sidebars*)",
      "Bash(python -c \"from src.config import get_settings; print(''Config loaded successfully'')\")",
      "Bash(python validate_structure.py)",
      "Bash(python -m src.main)",
      "Bash(python -c \"import os; os.environ[''OPENAI_API_KEY'']=''test-key''; os.environ[''DATABASE_URL'']=''sqlite:///./test.db''; from src.main import app; print(''Backend imports successful'')\")",
      "Bash(set OPENAI_API_KEY=test-key)",
      "Bash(set DATABASE_URL=sqlite:///./test.db)",
      "Bash(python -c \"from src.config import get_settings; s = get_settings(); print(''Settings loaded successfully'')\")",
      "Bash(python -c \"from src.config import get_settings; s = get_settings(); print(''Settings loaded successfully:'', s.app_name)\")",
      "Bash(python -c \"from src.config import settings; print(''Settings loaded successfully:'', settings.app_name)\")",
      "Bash(pip install -r requirements.txt)",
      "Bash(ls -la backend/test*)",
      "Bash(python validate_final.py)",
      "Bash(dir /s)",
      "Bash(dir)",
      "Bash(ls -la book/docs/module*)",
      "Bash(python validate_cleaned.py)",
      "Bash(git grep -i \"sk-\" .)",
      "Bash(cat .env.example)",
      "Bash(git grep -i \"secret\\|token\\|key\\|password\\|pwd\\|auth\\|credential\\|sk-\\|ey\" --break --heading --line-number)",
      "Bash(git grep -i \"sk-\")",
      "Bash(cat .gitignore)",
      "Bash(cd /d \"D:/giaic\")",
      "Bash(move \"D:\\giaic\\Humanoid_And_Robotis_Book_Hackathon\" \"D:\\giaic\\Humanoid_And_Robotis_Book_Hackathon_dirty\")",
      "Bash(git init)",
      "Bash(git remote add origin https://github.com/AbdullahArif17/Humanoid_And_Robotis_Book_Hackathon.git)",
      "Bash(git add .)",
      "Bash(git config user.email \"abdullaharif893@gmail.com\")",
      "Bash(git config user.name \"Abdullah\")",
      "Bash(git commit -m \"Initial commit - Clean repository without secrets\")",
      "Bash(git add -A)",
      "Bash(git commit -m \"Remove cleanup script\")",
      "Bash(git push -u origin master --force)",
      "Bash(cat docker-compose.yml)",
      "Bash(git checkout -b clean-master)",
      "Bash(npm run build)",
      "Bash(npm install)",
      "Bash(npx docusaurus build)",
      "Bash(npx docusaurus build --skip-ship-code)",
      "Bash(dir \"D:\\giaic\\Humanoid_And_Robotis_Book_Hackathon\\book\\docs\\module-3-nvidia-isaac\" /b)",
      "Bash(dir \"D:\\giaic\\Humanoid_And_Robotis_Book_Hackathon\" /b)",
      "Bash(dir \"D:\\giaic\\Humanoid_And_Robotis_Book_Hackathon\\book\" /b)",
      "Bash(dir \"D:\\giaic\\Humanoid_And_Robotis_Book_Hackathon\\.github\\workflows\" /b)",
      "Bash(dir \"D:\\giaic\\Humanoid_And_Robotis_Book_Hackathon\\docs\" /b)",
      "Bash(del \"D:\\giaic\\Humanoid_And_Robotis_Book_Hackathon\\.github\\workflows\\deploy.yml\")",
      "Bash(dir \"D:\\\\giaic\\\\Humanoid_And_Robotis_Book_Hackathon\\\\backend\" /b)",
      "Bash(dir \"D:\\\\giaic\\\\Humanoid_And_Robotis_Book_Hackathon\\\\backend\\\\src\" /b)",
      "Bash(findstr __init__)",
      "Bash(dir D:giaicHumanoid_And_Robotis_Book_Hackathonbackendsrc)",
      "Bash(dir D:giaicHumanoid_And_Robotis_Book_Hackathonbackend)",
      "Bash(dir \"D:\\\\giaic\\\\Humanoid_And_Robotis_Book_Hackathon\\\\backend\")",
      "Bash(dir \"D:\\\\giaic\\\\Humanoid_And_Robotis_Book_Hackathon\\\\backend\\\\src\")",
      "Bash(dir \"D:\\\\giaic\\\\Humanoid_And_Robotis_Book_Hackathon\\\\backend\" /s)",
      "Bash(python test_local_backend.py)",
      "Bash(python -c \"import config; print\\(''Config import OK''\\)\")",
      "Bash(python -c \"from models.conversation import Conversation; print\\(''Conversation model OK''\\); from models.user_query import UserQuery; print\\(''UserQuery model OK''\\); from models.chatbot_response import ChatbotResponse; print\\(''ChatbotResponse model OK''\\)\")",
      "Bash(python -c \"from src.models.user_query import UserQuery; print\\(''UserQuery model has conversation_id:'', hasattr\\(UserQuery, ''conversation_id''\\)\\); print\\(''UserQuery model has all expected attributes:'', hasattr\\(UserQuery, ''id''\\) and hasattr\\(UserQuery, ''session_id''\\) and hasattr\\(UserQuery, ''query_text''\\) and hasattr\\(UserQuery, ''query_type''\\) and hasattr\\(UserQuery, ''conversation_id''\\)\\)\")",
      "Bash(python -c \"from src.services.chat_service import ChatService; print\\(''ChatService has create_conversation:'', hasattr\\(ChatService, ''create_conversation''\\)\\); print\\(''ChatService has get_conversation:'', hasattr\\(ChatService, ''get_conversation''\\)\\); print\\(''ChatService has process_query:'', hasattr\\(ChatService, ''process_query''\\)\\)\")",
      "Bash(python -c \"import sys; from pathlib import Path; src_path = Path\\(__file__\\).parent / ''src''; sys.path.insert\\(0, str\\(src_path\\)\\); from src.main import app; print\\(''FastAPI app imported successfully:'', app.title\\)\")",
      "Bash(python -c \"from main import app; print\\(''App title:'', app.title\\)\")",
      "Bash(python -c \"\nimport sys\nimport os\nfrom pathlib import Path\n\n# Add src to Python path to allow imports\nsrc_path = Path\\(__file__\\).parent / ''src''\nsys.path.insert\\(0, str\\(src_path\\)\\)\n\n# Test the models specifically\nfrom src.models.conversation import Conversation\nfrom src.models.user_query import UserQuery\nfrom src.models.chatbot_response import ChatbotResponse\n\nprint\\(''Testing Conversation model attributes...''\\)\nconversation_attrs = [''id'', ''session_id'', ''user_id'', ''title'', ''created_at'', ''updated_at'', ''conversation_metadata'']\nfor attr in conversation_attrs:\n    has_attr = hasattr\\(Conversation, attr\\)\n    print\\(f''Conversation model has \\\\''{attr}\\\\'': {has_attr}''\\)\n\nprint\\(\\)\nprint\\(''Testing UserQuery model attributes...''\\)\nuser_query_attrs = [''id'', ''session_id'', ''query_text'', ''query_type'', ''conversation_id'']\nfor attr in user_query_attrs:\n    has_attr = hasattr\\(UserQuery, attr\\)\n    print\\(f''UserQuery model has \\\\''{attr}\\\\'': {has_attr}''\\)\n\nprint\\(\\)\nprint\\(''Testing ChatbotResponse model attributes...''\\)\nresponse_attrs = [''id'', ''query_id'', ''response_text'']\nfor attr in response_attrs:\n    has_attr = hasattr\\(ChatbotResponse, attr\\)\n    print\\(f''ChatbotResponse model has \\\\''{attr}\\\\'': {has_attr}''\\)\n\nprint\\(\\)\nprint\\(''All model attributes are present!''\\)\n\")",
      "Bash(python -c \"\nimport sys\nfrom pathlib import Path\nsys.path.insert\\(0, str\\(Path\\(''.''\\).absolute\\(\\) / ''src''\\)\\)\n\n# Test the models specifically\nfrom src.models.user_query import UserQuery\nfrom src.models.conversation import Conversation\n\n# Check if UserQuery has conversation_id\nprint\\(''UserQuery has conversation_id:'', hasattr\\(UserQuery, ''conversation_id''\\)\\)\nprint\\(''UserQuery has session_id:'', hasattr\\(UserQuery, ''session_id''\\)\\)\nprint\\(''UserQuery has query_text:'', hasattr\\(UserQuery, ''query_text''\\)\\)\nprint\\(''UserQuery has query_type:'', hasattr\\(UserQuery, ''query_type''\\)\\)\n\n# Check if Conversation has user_queries relationship\nprint\\(''Conversation has user_queries relationship:'', hasattr\\(Conversation, ''user_queries''\\)\\)\n\nprint\\(''Model fixes verified successfully!''\\)\n\")",
      "Bash(python -c \"\nimport sys\nfrom pathlib import Path\nsys.path.insert\\(0, str\\(Path\\(''.''\\).absolute\\(\\) / ''src''\\)\\)\n\n# Test if the API can be imported with the new conversation endpoints\nfrom src.api import rag_api\nprint\\(''API module imported successfully with conversation endpoints''\\)\n\n# Test if the router has the new endpoints\nprint\\(''Router has /v1/chat/conversations endpoint:'', hasattr\\(rag_api, ''router''\\)\\)\nprint\\(''Router object:'', type\\(rag_api.router\\)\\)\n\")",
      "Bash(python -c \"\nimport sys\nfrom pathlib import Path\nsys.path.insert\\(0, str\\(Path\\(''.''\\).absolute\\(\\)\\)\\)\n\n# Test just the models and API structure without the logging dependency\nimport importlib.util\n\n# Load the rag_api module directly to check for the conversation endpoints\nspec = importlib.util.spec_from_file_location\\(''rag_api'', ''./api/rag_api.py''\\)\nrag_api_module = importlib.util.module_from_spec\\(spec\\)\n\n# Mock the imports that are causing issues\nimport sys\nclass MockJsonLogger:\n    JsonFormatter = object\n\nclass MockModule:\n    jsonlogger = MockJsonLogger\\(\\)\n\nsys.modules[''pythonjsonlogger''] = MockModule\\(\\)\nsys.modules[''src.utils.logging_config''] = MockModule\\(\\)\n\n# Now try to load the module\ntry:\n    spec.loader.exec_module\\(rag_api_module\\)\n    print\\(''API module loaded successfully with conversation endpoints''\\)\n    \n    # Check if the router exists\n    if hasattr\\(rag_api_module, ''router''\\):\n        print\\(''Router exists in module''\\)\n        \n        # Check if routes are registered by looking at the router''s attributes\n        routes = [route for route in rag_api_module.router.routes]\n        route_paths = [getattr\\(route, ''path'', ''unknown''\\) for route in routes]\n        print\\(''Registered paths:'', route_paths\\)\n        \n        # Check for conversation endpoints specifically\n        conv_endpoints = [path for path in route_paths if ''conversation'' in path.lower\\(\\)]\n        print\\(''Conversation-related endpoints found:'', conv_endpoints\\)\n    else:\n        print\\(''Router not found in module''\\)\n        \nexcept Exception as e:\n    print\\(f''Error loading API module: {e}''\\)\n    import traceback\n    traceback.print_exc\\(\\)\n\")"
    ]
  }
}
